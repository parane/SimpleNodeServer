{"version":3,"sources":["webpack:///webpack/bootstrap 6adfb3c64e50ad844344","webpack:///external \"express\"","webpack:///external \"mongoose\"","webpack:///./src/config.js","webpack:///external \"jsonwebtoken\"","webpack:///./src/index.js","webpack:///./src/models/user.model.js","webpack:///./src/models/wizard.model.js","webpack:///./src/routes/user.route.js","webpack:///./src/routes/wizard.route.js","webpack:///external \"body-parser\""],"names":["CONFIG","secretKey","app","express","use","bodyParser","urlencoded","extended","json","set","mongoose","connect","req","res","next","console","log","token","headers","status","message","jwt","verify","err","decoded","send","get","listen","Schema","user","name","String","password","admin","Boolean","User","model","wizard","house","pet","Wizard","router","Router","post","body","save","data","findOne","query","sign","expiresIn","USER_ROUTES","find","wizards","Data","put","findById","params","id","delete","param","WizardRoutes"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 10);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6adfb3c64e50ad844344","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose\"\n// module id = 1\n// module chunks = 0","export const CONFIG = {\r\n    secretKey : \"parane\"\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/config.js","module.exports = require(\"jsonwebtoken\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jsonwebtoken\"\n// module id = 3\n// module chunks = 0","import express from 'express'\r\nimport bodyParser from 'body-parser'\r\nimport {WizardRoutes} from './routes/wizard.route'\r\nimport mongoose from 'mongoose';\r\nimport  {CONFIG} from './config'\r\n\r\nimport {USER_ROUTES} from './routes/user.route'\r\n\r\nimport jwt from 'jsonwebtoken'\r\n\r\n//application init\r\nlet app = express()\r\n\r\napp.use(bodyParser.urlencoded({ extended : true }));\r\napp.use(bodyParser.json());\r\n\r\napp.set('port',3000);\r\n\r\n//connect to mongoDB instance create on mongoLabs\r\nmongoose.connect('mongodb://root:root@ds133321.mlab.com:33321/parane1');\r\n\r\napp.use('/wizard',(req,res,next) =>{\r\n   console.log(\"middle for authentication\");\r\n   let token = req.headers['x-access-token']\r\n   if(!token){\r\n       res.status().json({message:\"Not autherized\"})\r\n   }else{\r\n       jwt.verify(token,CONFIG.secretKey,(err,decoded)=>{\r\n           if(err){\r\n              res.send(err);\r\n           }else{\r\n               req.decoded = decoded;\r\n               next();\r\n           }\r\n       })\r\n   }\r\n   //check for authentication\r\n   //i true ==>\r\n  // next();\r\n})\r\n\r\napp.get('/',(req,res) =>{\r\n    res.json({'message':'hello world'});\r\n})\r\n\r\n// app.post('/example-post',(req,res) =>{\r\n//   res.json({\r\n//       message: 'Poste sucessful',\r\n//       payload: req.body,\r\n//       header: req.header \r\n//   });\r\n  \r\n// });\r\n\r\napp.use('/wizard',WizardRoutes)\r\napp.use(USER_ROUTES)\r\napp.listen(app.get('port'),() =>{\r\n    console.log(`Node is running on port ${app.get('port')}`);\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import mongoose from 'mongoose';\r\n\r\nlet Schema = mongoose.Schema\r\n\r\nlet user = new Schema({\r\n    name: String,\r\n    password: String,\r\n    admin: Boolean\r\n});\r\n\r\nexport const User = mongoose.model('User',user)\n\n\n// WEBPACK FOOTER //\n// ./src/models/user.model.js","import mongoose from 'mongoose';\r\n\r\nlet Schema = mongoose.Schema\r\n\r\nlet wizard = new Schema({\r\n    name: String,\r\n    house: String,\r\n    pet: String\r\n});\r\n\r\nexport const Wizard = mongoose.model('Wizard',wizard)\n\n\n// WEBPACK FOOTER //\n// ./src/models/wizard.model.js","import express from 'express';\r\nimport {User} from '../models/user.model'\r\nimport jwt from 'jsonwebtoken'\r\nimport  {CONFIG} from '../config'\r\n\r\nlet router = express.Router();\r\n\r\n\r\nrouter.post('/register',(req,res)=>{\r\n let user = new User({\r\n     name : req.body.name,\r\n     password:  req.body.password,\r\n      admin:  req.body.admin,\r\n });\r\n\r\n user.save((err,user)=> {\r\n     if(err){\r\n         res.send(err);\r\n     }\r\n     res.json({message:\"saved\",data:user});\r\n });\r\n\r\n});\r\n\r\nrouter.get('/authenticate',(req,res) =>{\r\n\r\n    User.findOne({\r\n        name:req.query.name\r\n    },(err,user) =>{\r\n        if(err)\r\n          res.send(err);\r\n    \r\n       if(!user){\r\n           res.status(401).json({message : \"user not exsist\"});\r\n\r\n       }else{\r\n         \r\n         if(user.password === req.query.password) {\r\n             let token = jwt.sign(user,CONFIG.secretKey,{\r\n                 expiresIn: 1440\r\n             })\r\n             res.json({\r\n                  message: \"scuessfully login\",\r\n                  token:token\r\n             });\r\n         }else{\r\n             res.status(401).json({message : \"password wrong\"});\r\n         }\r\n\r\n       }\r\n\r\n    })\r\n\r\n})\r\n\r\nexport const USER_ROUTES = router;\n\n\n// WEBPACK FOOTER //\n// ./src/routes/user.route.js","import express from 'express';\r\nimport {Wizard} from '../models/wizard.model'\r\n\r\nlet router = express.Router();\r\n\r\n//get all wizard\r\nrouter.get('/',(req,res) => {\r\n   Wizard.find((err,wizards)=>{\r\n       if(err){\r\n           res.send(err);\r\n        \r\n       }\r\n       res.json(wizards)\r\n   })\r\n});\r\n\r\n//add wizard\r\nrouter.post('/',(req,res) => {\r\n\r\n    let wizard = new Wizard();\r\n    wizard.name = req.body.name;\r\n    wizard.house = req.body.house;\r\n    wizard.pet = req.body.pet;\r\n    \r\n    wizard.save((err,data) => {\r\n        \r\n        if(err){\r\n            res.send(err);\r\n        }\r\n\r\n        res.json({\r\n            message: \"Wizard added scuess\",\r\n            data: Data\r\n        })\r\n    }\r\n\r\n    );\r\n\r\n});\r\n\r\n// view wizard from ID\r\nrouter.get('/:id',(req,res) => {\r\n\r\n  \r\n});\r\n\r\n\r\n// edit wizard from ID\r\nrouter.put('/:id',(req,res) => {\r\n  Wizard.findById(req.params.id,(err,wizard) =>{\r\n        if(err){\r\n          res.send(err);\r\n        }\r\n\r\n        wizard.name  = req.body.name;\r\n        wizard.house  = req.body.house;\r\n        wizard.pet  = req.body.pet;\r\n\r\n    wizard.save((err,data) => {\r\n        \r\n        if(err){\r\n            res.send(err);\r\n        }\r\n\r\n        res.json({\r\n            message: \"update scuess\",\r\n            data: data\r\n        });\r\n    })\r\n  \r\n});\r\n});\r\n\r\n// edit wizard from ID\r\nrouter.delete('/:id',(req,res) => {\r\nres.send(`View wizard of ID --> ${req.param.id}`)\r\n});\r\n\r\n//javascript module\r\nexport const WizardRoutes = router;\n\n\n// WEBPACK FOOTER //\n// ./src/routes/wizard.route.js","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 9\n// module chunks = 0"],"sourceRoot":""}